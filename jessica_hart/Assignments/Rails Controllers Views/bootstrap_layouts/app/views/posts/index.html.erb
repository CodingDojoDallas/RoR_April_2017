<% content_for :title, "All Posts" %>

<% content_for :col1 do %>
  <h1>All Posts</h1>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Title</th>
        <th>Content</th>
        <th>Author</th>
      </tr>
    </thead>
    <tbody>
      <% @posts.each do |post| %>
        <tr>
          <td><%= post.title %></td>
          <td><%= post.content %></td>
          <td><%= post.user.first_name %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>

<% content_for :col2 do %>
  <h1>New Post</h1>
  <form action="/posts/" method="post">
    <input name="authenticity_token" value="<%= form_authenticity_token %>" type="hidden">
    <div class="form-group">
      <label>Title</label>
      <input type="text" class="form-control" name="post[title]">
    </div>
    <div class="form-group">
      <label>Content</label>
      <textarea class="form-control" rows="3" name="post[content]"></textarea>
    </div>
    <div class="form-group">
      <label>Author</label>
      <select name="post[user_id]">
        <% @users.each do |user| %>
          <option value="<%= user.id %>"><%= user.first_name + " " + user.last_name %></option>
        <% end %>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
<% end %>

<% content_for :col3 do %>
  <h1>Go to Users Page</h1>
  <a class="btn btn-info" href="/users" role="button">All Users</a>
<% end %>
